<!DOCTYPE html>
<!--
    Copyright (c) 2012-2014 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>Toki Utala</title>
<style type="text/css">
body {
    font-size: 100%;
    color:black;
    background-color:gray;
     text-align: center;
}
ul {
list-style-type: none;
padding:0px;
}

a {
    text-decoration: none;
    color:black;
}
a:active {
    color:grey;
}
#targetWord{
     text-transform: uppercase; 
     background-color: #eee;
}

li {
    background-color: #eeeeee;
    border:1px solid black;
    padding: 5px;
    margin: 5px;
}


.streakText {
    background-color: #aaa;
    border-radius:5px;
    padding:5px 10px;
}

.correct {
    color:green;
}            
.incorrect {
    color:red;
}
.itemLink {
    display:inline-block;
    width:100%;
    height:100%;
}

a#continueButton {
    width:100%;
}

        </style>
        <script  type="text/javascript" charset="utf-8">
            
var check="✓";
var cross="✘";
var neutral=".";

var dictionary = [
[["a"   ],["ah", "ha", "uh", "oh", "ooh", "aw", "well"]],
[["akesi"   ],["non-cute animal", "reptile", "amphibian"]],
[["ala" ],["no", "not", "none", "un-", "nothing", "negation", "zero"]],
[["alasa"   ],["gather","hunt"]],
[["ale","ali"   ],["everything", "anything", "life", "the universe", "all", "every", "complete", "whole"]],
[["anpa"    ],["bottom", "lower part", "under", "below", "floor", "beneath", "low", "lower", "bottom", "down"]],
[["ante"    ],["difference", "different", "otherwise", "or else", "else", "change", "alter", "modify"]],
[["anu" ],["or"]],
[["awen"    ],["stay", "wait", "remain", "keep", "remaining", "stationary", "permanent", "sedentary"]],
[["e"   ],[("introduces a direct object")]],
[["en"  ],["and"]],
[["esun"    ],["market", "shop"]],
[["ijo" ],["thing", "something", "stuff", "anything", "object", "of something", "objectify"]],
[["ike" ],["bad", "negative", "wrong", "evil", "overly complex", "(figuratively) unhealthy", "oh dear!", "woe!", "alas!", "negativity", "badness", "evil", "to make bad", "to worsen", "to have a negative effect upon", "to be bad", "to suck"]],
[["ilo" ],["tool", "device", "machine", "thing used for a specific purpose"]],
[["insa"    ],["inside", "inner world", "centre", "stomach", "inner internal"]],
[["jaki"    ],["dirty", "gross", "filthy", "dirt", "pollution", "garbage", "filth", "pollute", "ew!", "yuck!", "yucky"]],
[["jan" ],["person", "people", "human", "being", "somebody", "anybody", "human", "somebody's", "personal", "of people", "personify", "humanize", "personalize"]],
[["jelo"    ],["yellow", "light green"]],
[["jo"  ],["have", "contain", "having", "receive", "get", "take obtain"]],
[["kala"    ],["fish", "sea creature"]],
[["kalama"  ],["sound", "noise", "voice", "make noise", "sound", "ring", "play (an instrument)"]],
[["kama"    ],["come", "become", "arrive", "happen", "pursue actions to arrive to (a certain state)", "manage to", "start to", "event", "happening", "chance", "arrival", "beginning", "coming", "future", "bring about", "summon", "come up"]],
[["kasi"    ],["plant", "leaf", "herb", "tree", "wood"]],
[["ken" ],["can", "is able to", "is allowed to", "may", "is possible", "possibly", "ability", "power to do things", "permission", "make possible", "enable", "allow permit", "it is possible that"]],
[["kepeken" ],["use", "with"]],
[["kili"    ],["fruit", "pulpy vegetable", "mushroom"]],
[["kin" ],["also", "too", "even", "indeed"]],
[["kiwen"   ],["hard", "solid", "stone-like", "made of stone or metal", "hard thing", "rock", "stone", "metal", "mineral", "clay"]],
[["ko"  ],["semi-solid substance", "squishy substance", "paste", "powder", "gum"]],
[["kon" ],["air", "wind", "smell", "soul", "air-like", "ethereal", "gaseous"]],
[["kule"    ],["colour", "paint", "colourful"]],
[["kulupu"  ],["group", "community", "society", "company", "people", "communal", "shared", "public", "of the society"]],
[["kute"    ],["listen", "hear", "auditory", "hearing"]],
[["la"  ],["(between adverb or phrase of context and sentence)"]],
[["lape"    ],["sleep", "rest", "sleeping", "of sleep"]],
[["laso"    ],["blue", "blue-green"]],
[["lawa"    ],["head", "mind", "main", "leading", "in charge", "lead", "control", "rule", "steer"]],
[["len" ],["clothing", "cloth", "fabric"]],
[["lete"    ],["cold", "uncooked", "cool down", "chill"]],
[["li"  ],["(between any subject except mi and sina and its verb)", "(used to introduce a new verb for the same subject)"]],
[["lili"    ],["small", "little", "young", "a bit", "short", "few", "less", "reduce", "shorten", "shrink", "lessen"]],
[["linja"   ],["long", "very thin", "floppy thing", "string", "rope", "hair", "thread", "cord", "chain"]],
[["lipu"    ],["flat and bendable thing", "paper", "card", "ticket"]],
[["loje"    ],["red"]],
[["lon" ],["be in", "be at", "be on", "be there", "be present", "be real", "be true", "exist", "beawake"]],
[["luka"    ],["hand", "arm"]],
[["lukin"   ],["see", "look at", "watch", "read", "look", "watch out", "pay attention", "visually"]],
[["lupa"    ],["hole", "orifice", "window", "door", "loop"]],
[["ma"  ],["land", "earth country", "(outdoor) area"]],
[["mama"    ],["parent", "mother father", "of the parent", "parental", "maternal", "fatherly"]],
[["mani"    ],["money", "material wealth", "currency", "dollar", "capital"]],
[["meli"    ],["woman", "female", "girl", "wife", "girlfriend", "female", "feminine", "womanly"]],
[["mi"  ],["i", "we", "my", "our"]],
[["mije"    ],["man", "male", "boy", "husband", "boyfriend", "male", "masculine", "manly"]],
[["moku"    ],["food", "meal", "eat", "drink", "swallow", "ingest", "consume"]],
[["moli"    ],["death", "die", "be dead", "kill", "dead", "deadly", "fatal"]],
[["monsi"   ],["back", "rear end", "butt", "behind"]],
[["mu"  ],["woof!", "meow!", "moo!","animal vocalization"]],
[["mun" ],["moon", "lunar"]],
[["musi"    ],["fun", "playing", "game", "recreation", "art", "entertainment", "artful", "recreational", "play", "have fun", "amuse", "entertain"]],
[["mute"    ],["many", "very", "much", "several", "a lot", "abundant", "numerous", "more", "amount", "quantity", "make many", "make much"]],
[["namako"  ],["food additive", "accessory", "something extra", "season", "embellish", "stimulate"]],
[["nanpa"   ],["number"]],
[["nasa"    ],["silly", "crazy", "foolish", "drunk", "strange", "stupid", "weird", "drive", "crazy", "make weird"]],
[["nasin"   ],["way", "manner", "custom", "road", "path", "doctrine", "system", "method"]],
[["nena"    ],["bump", "nose", "hill", "mountain", "button"]],
[["ni"  ],["this", "that"]],
[["nimi"    ],["word", "name"]],
[["noka"    ],["leg", "foot"]],
[["o"   ],["O", "hey!"]],
[["oko" ],["eye"]],
[["olin"    ],["love", "to love (a person)"]],
[["ona" ],["she", "he", "it", "they", "her", "his", "its", "their"]],
[["open"    ],["open", "turn on"]],
[["pakala"  ],["blunder", "accident", "mistake", "destruction", "damage", "breaking", "screw up", "fuck up", "botch", "ruin", "break", "hurt", "injure", "damage", "spoil", "ruin", "screw up", "fall apart", "break", "damn!", "fuck!"]],
[["pali"    ],["activity", "work", "deed", "project", "active", "work-related", "operating", "working", "do", "make", "build", "create", "act", "work", "function"]],
[["palisa"  ],["long object", "rod", "stick", "branch"]],
[["pan" ],["grain", "cereal"]],
[["pana"    ],["give", "put", "send", "place", "release", "emit", "cause", "giving", "transfer", "exchange"]],
[["pi"  ],["of", "belonging to"]],
[["pilin"   ],["feelings", "emotions", "heart", "feel", "think", "sense", "touch"]],
[["pimeja"  ],["black", "dark", "darkness", "shadows", "darken"]],
[["pini"    ],["end", "tip", "completed", "finished", "past", "done", "ago", "finish", "close", "end", "turn off"]],
[["pipi"    ],["bug", "insect", "spider"]],
[["poka"    ],["side", "hip", "next to", "in the accompaniment of", "with", "neighbouring"]],
[["poki"    ],["container", "box", "bowl", "cup", "glass"]],
[["pona"    ],["good", "simplicity", "positivity", "good", "simple", "positive", "nice", "correct", "right", "great!", "good!", "thanks!", "ok!", "cool!", "yay!", "improve", "fix", "repair", "make good"]],
[["sama"    ],["same", "similar", "equal", "of equal status or position", "like", "as", "seem"]],
[["seli"    ],["fire", "warmth", "heat", "hot", "warm", "cooked", "heat", "warm up", "cook"]],
[["selo"    ],["outside", "surface", "skin", "shell", "bark", "shape", "peel"]],
[["sewi"    ],["high", "up", "above", "top", "over", "on", "superior", "elevated", "religious", "formal"]],
[["sijelo"  ],["body", "physical state"]],
[["sike"    ],["circle", "wheel", "sphere", "ball", "cycle", "round", "cyclical"]],
[["sin" ],["new", "fresh", "another", "more", "renew", "renovate", "freshen"]],
[["sina"    ],["you", "your"]],
[["sinpin"  ],["front", "chest", "torso", "face", "wall"]],
[["sitelen" ],["picture", "image", "draw", "write"]],
[["sona"    ],["knowledge", "wisdom", "intelligence", "understanding", "know", "understand", "know how to", "know", "understand"]],
[["soweli"  ],["animal", "land mammal", "loveable animal"]],
[["suli"    ],["big", "tall", "long", "adult", "important", "enlarge", "lengthen", "size"]],
[["suno"    ],["sun", "light"]],
[["supa"    ],["horizontal surface", "furniture", "table", "chair", "pillow", "floor"]],
[["suwi"    ],["candy", "sweet food", "sweet", "cute", "sweeten"]],
[["tan" ],["from", "by", "because of", "since", "origin", "cause"]],
[["taso"    ],["only", "sole", "but"]],
[["tawa"    ],["to", "in order to", "towards", "for", "until", "go to", "walk", "travel", "move", "leave", "movement", "transportation", "moving", "mobile", "move", "displace"]],
[["telo"    ],["water", "liquid", "juice", "sauce", "water", "wash with water"]],
[["tenpo"   ],["time", "period of time", "moment", "duration", "situation"]],
[["toki"    ],["language", "talking", "speech", "communication", "talking", "verbal", "say", "talk", "chat", "communicate", "hello!", "hi!"]],
[["tomo"    ],["indoor constructed space", "house", "home", "room", "building", "urban", "domestic", "household"]],
[["tu"  ],["two", "duo", "pair", "double", "separate"/"cut"/"divide in two"]],
[["unpa"    ],["sex", "sexuality", "erotic", "sexual", "have sex with", "sleep with", "fuck", "have sex"]],
[["uta" ],["mouth", "oral"]],
[["utala"   ],["conflict", "disharmony", "competition", "fight", "war", "battle", "attack", "blow", "argument", "physical violence", "verbal violence", "hit", "strike", "attack", "compete against"]],
[["walo"    ],["while", "light (colour)", "white thing", "white part", "whiteness", "lightness"]],
[["wan" ],["one", "a", "unit", "element", "particle", "part", "piece", "unite", "make one"]],
[["waso"    ],["bird", "winged animal"]],
[["wawa"    ],["energy", "strength", "power", "energetic", "strong", "fierce", "intense", "sure", "confident", "strengthen", "energize empower"]],
[["weka"    ],["away", "absent", "missing", "absence", "throw away", "remove", "get rid of"]],
[["wile"    ],["to want", "need wish", "want", "have to", "must", "will", "should", "desire", "need", "will", "necessary"]]
];

// Returns a random integer between min (included) and max (excluded)
// Using Math.round() will give you a non-uniform distribution!
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min)) + min;
}

function fisherYates(myArray,nb_picks)
{
    for (i = myArray.length-1; i > 1  ; i--)
    {
        var r = Math.floor(Math.random()*i);
        var t = myArray[i];
        myArray[i] = myArray[r];
        myArray[r] = t;
    }

    return myArray.slice(0,nb_picks);
}


var choiceCount=5;
var answer=-1;
var highScore = localStorage.getItem("highScore");
if (highScore==null){
    highScore=0;
}
var score=0;
var chosenAnswer=-1;

var chosenIndices=[];

function startPopulate(qMode){
    if (qMode){
        chosenIndices=[];
        //pick 5 random rows
        rows = fisherYates(dictionary,choiceCount);
        //pick 1 to be the answer at random
        answer = getRandomInt(0,5);
        //pick language direction
        direction = getRandomInt(0,2);
        //populate screendat


        var tw = document.getElementById("targetWord");
        var tr = rows[answer];
        var td = tr[1-direction];
        tw.innerText = td[getRandomInt(0,td.length)];
    }

    for (var i=0;i<5;i++){
        var r = rows[i];
        var d = r[direction];

        var el = document.getElementById("choice"+i);
        if (qMode){
            chosenIndices.push(getRandomInt(0,d.length));
            if (isNaN(d[chosenIndices[i]])){
                window.console.log("boop");
            }
            el.innerHTML= '<a class="itemLink" href="javascript:clickChoice('+i+')">'+d[chosenIndices[i]]+"</a>";
        } else {
            el.innerHTML=d[chosenIndices[i]];
            if (answer===i && answer===chosenAnswer) {
                el.innerHTML = '<span class="correct">'+el.innerHTML+" "+check+'</span>';
            } else if (answer===i) {
                el.innerHTML = '<span class="correct">'+el.innerHTML+'</span>';
            } else if (chosenAnswer==i){
                el.innerHTML = '<span class="incorrect">'+el.innerHTML+" "+cross+'</span>';                
            }

        }
    }
    if (qMode){
        var el = document.getElementById("continueButton").style.display="none";
    } else {
        var el = document.getElementById("continueButton").style.display="initial";        
    }
    document.getElementById("currentStreak").innerText=score;
    document.getElementById("longestStreak").innerText=highScore;
}

function clickChoice(i){
    if (i===answer){
        score++;
        if (score>highScore){
            highScore=score;
            localStorage.setItem("highScore",score);
        }
    } else {
        score=0;        
    }
    chosenAnswer=i;
    startPopulate(false);

}

function clickContinue(){
    startPopulate(true);
}

var choiceEl=[];
function doStart(){
    startPopulate(true);
}
        </script>
    </head>
    <body onload="doStart()">
        <div class="app">
            <h1 id="title">Toku Utala</h1>
            <p>
            <span class="streakText">current streak: <span id="currentStreak">0</span></span> &nbsp; &nbsp; &nbsp; <span class="streakText">longest streak: <span id="longestStreak">0</span></span>
            <p>
            <h2 id = "targetWord"></h2>
            </p>
<ul>
    <li><span id="choice0"></span> <span id = "meaning0"></span></li>
    <li><span id="choice1"></span> <span id = "meaning1"></span></li>
    <li><span id="choice2"></span> <span id = "meaning2"></span></li>
    <li><span id="choice3"></span> <span id = "meaning3"></span></li>
    <li><span id="choice4"></span> <span id = "meaning4"></span></li>

</ul>
<p>
<div><a id="continueButton" style="display:none;" href="javascript:clickContinue()">continue</a></div>

        </div>
    </body>
</html>
